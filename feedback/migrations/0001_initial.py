# Generated by Django 5.2.7 on 2025-11-02 11:07

import django.db.models.deletion
import django.utils.timezone
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('employee', '0002_initial'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='ClientFeedback',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('feedback_text', models.TextField(help_text='Detailed feedback or comments.')),
                ('remarks', models.TextField(blank=True, help_text='Additional notes or context.', null=True)),
                ('rating', models.PositiveSmallIntegerField(default=5, help_text='Numeric rating (scale: 1–10).')),
                ('priority', models.CharField(choices=[('low', 'Low'), ('normal', 'Normal'), ('high', 'High'), ('urgent', 'Urgent')], db_index=True, default='normal', help_text='Priority level of this feedback.', max_length=10)),
                ('status', models.CharField(choices=[('pending', 'Pending Review'), ('reviewed', 'Reviewed'), ('acknowledged', 'Acknowledged'), ('actioned', 'Action Taken'), ('archived', 'Archived')], db_index=True, default='pending', help_text='Current status of feedback.', max_length=20)),
                ('sentiment', models.CharField(blank=True, choices=[('positive', 'Positive'), ('neutral', 'Neutral'), ('negative', 'Negative'), ('mixed', 'Mixed')], help_text='Detected sentiment (can be auto-filled by AI).', max_length=10, null=True)),
                ('tags', models.CharField(blank=True, help_text="Comma-separated tags (e.g., 'communication, teamwork').", max_length=255)),
                ('acknowledged', models.BooleanField(db_index=True, default=False, help_text='Has the employee acknowledged this feedback?')),
                ('acknowledged_at', models.DateTimeField(blank=True, help_text='When the feedback was acknowledged.', null=True)),
                ('employee_response', models.TextField(blank=True, help_text="Employee's response to the feedback.", null=True)),
                ('response_date', models.DateTimeField(blank=True, help_text='When employee responded.', null=True)),
                ('requires_action', models.BooleanField(db_index=True, default=False, help_text='Does this feedback require follow-up action?')),
                ('action_items', models.TextField(blank=True, help_text='Specific action items to address.', null=True)),
                ('action_completed', models.BooleanField(default=False, help_text='Have the action items been completed?')),
                ('action_completed_at', models.DateTimeField(blank=True, help_text='When actions were completed.', null=True)),
                ('visibility', models.CharField(choices=[('Private', 'Private'), ('Public', 'Public')], db_index=True, default='Private', help_text='Defines whether feedback is visible in employee dashboards.', max_length=20)),
                ('confidential', models.BooleanField(default=False, help_text='Mark as highly confidential (restricted access).')),
                ('source_type', models.CharField(blank=True, editable=False, help_text='Auto-filled feedback source type.', max_length=20, null=True)),
                ('metadata', models.JSONField(blank=True, default=dict, help_text='Additional structured data.')),
                ('feedback_date', models.DateField(db_index=True, default=django.utils.timezone.localdate)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('client_name', models.CharField(blank=True, help_text="Client's name or organization.", max_length=150, null=True)),
                ('project_name', models.CharField(blank=True, help_text='Associated project name.', max_length=200, null=True)),
                ('would_recommend', models.BooleanField(default=True, help_text='Would the client recommend this employee?')),
                ('created_by', models.ForeignKey(blank=True, help_text='User who submitted this feedback.', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('department', models.ForeignKey(blank=True, help_text='Department under which the feedback is recorded.', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_feedbacks', to='employee.department')),
                ('employee', models.ForeignKey(help_text='Employee receiving this feedback.', on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_feedbacks', to='employee.employee')),
            ],
            options={
                'verbose_name': 'Client Feedback',
                'verbose_name_plural': 'Client Feedback',
                'db_table': 'feedback_client',
            },
        ),
        migrations.CreateModel(
            name='GeneralFeedback',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('feedback_text', models.TextField(help_text='Detailed feedback or comments.')),
                ('remarks', models.TextField(blank=True, help_text='Additional notes or context.', null=True)),
                ('rating', models.PositiveSmallIntegerField(default=5, help_text='Numeric rating (scale: 1–10).')),
                ('priority', models.CharField(choices=[('low', 'Low'), ('normal', 'Normal'), ('high', 'High'), ('urgent', 'Urgent')], db_index=True, default='normal', help_text='Priority level of this feedback.', max_length=10)),
                ('status', models.CharField(choices=[('pending', 'Pending Review'), ('reviewed', 'Reviewed'), ('acknowledged', 'Acknowledged'), ('actioned', 'Action Taken'), ('archived', 'Archived')], db_index=True, default='pending', help_text='Current status of feedback.', max_length=20)),
                ('sentiment', models.CharField(blank=True, choices=[('positive', 'Positive'), ('neutral', 'Neutral'), ('negative', 'Negative'), ('mixed', 'Mixed')], help_text='Detected sentiment (can be auto-filled by AI).', max_length=10, null=True)),
                ('tags', models.CharField(blank=True, help_text="Comma-separated tags (e.g., 'communication, teamwork').", max_length=255)),
                ('acknowledged', models.BooleanField(db_index=True, default=False, help_text='Has the employee acknowledged this feedback?')),
                ('acknowledged_at', models.DateTimeField(blank=True, help_text='When the feedback was acknowledged.', null=True)),
                ('employee_response', models.TextField(blank=True, help_text="Employee's response to the feedback.", null=True)),
                ('response_date', models.DateTimeField(blank=True, help_text='When employee responded.', null=True)),
                ('requires_action', models.BooleanField(db_index=True, default=False, help_text='Does this feedback require follow-up action?')),
                ('action_items', models.TextField(blank=True, help_text='Specific action items to address.', null=True)),
                ('action_completed', models.BooleanField(default=False, help_text='Have the action items been completed?')),
                ('action_completed_at', models.DateTimeField(blank=True, help_text='When actions were completed.', null=True)),
                ('visibility', models.CharField(choices=[('Private', 'Private'), ('Public', 'Public')], db_index=True, default='Private', help_text='Defines whether feedback is visible in employee dashboards.', max_length=20)),
                ('confidential', models.BooleanField(default=False, help_text='Mark as highly confidential (restricted access).')),
                ('source_type', models.CharField(blank=True, editable=False, help_text='Auto-filled feedback source type.', max_length=20, null=True)),
                ('metadata', models.JSONField(blank=True, default=dict, help_text='Additional structured data.')),
                ('feedback_date', models.DateField(db_index=True, default=django.utils.timezone.localdate)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('feedback_category', models.CharField(blank=True, help_text="Category of general feedback (e.g., 'HR Review', 'Performance Check').", max_length=50)),
                ('created_by', models.ForeignKey(blank=True, help_text='User who submitted this feedback.', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('department', models.ForeignKey(blank=True, help_text='Department under which the feedback is recorded.', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_feedbacks', to='employee.department')),
                ('employee', models.ForeignKey(help_text='Employee receiving this feedback.', on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_feedbacks', to='employee.employee')),
            ],
            options={
                'verbose_name': 'General Feedback',
                'verbose_name_plural': 'General Feedback',
                'db_table': 'feedback_general',
            },
        ),
        migrations.CreateModel(
            name='ManagerFeedback',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('feedback_text', models.TextField(help_text='Detailed feedback or comments.')),
                ('remarks', models.TextField(blank=True, help_text='Additional notes or context.', null=True)),
                ('rating', models.PositiveSmallIntegerField(default=5, help_text='Numeric rating (scale: 1–10).')),
                ('priority', models.CharField(choices=[('low', 'Low'), ('normal', 'Normal'), ('high', 'High'), ('urgent', 'Urgent')], db_index=True, default='normal', help_text='Priority level of this feedback.', max_length=10)),
                ('status', models.CharField(choices=[('pending', 'Pending Review'), ('reviewed', 'Reviewed'), ('acknowledged', 'Acknowledged'), ('actioned', 'Action Taken'), ('archived', 'Archived')], db_index=True, default='pending', help_text='Current status of feedback.', max_length=20)),
                ('sentiment', models.CharField(blank=True, choices=[('positive', 'Positive'), ('neutral', 'Neutral'), ('negative', 'Negative'), ('mixed', 'Mixed')], help_text='Detected sentiment (can be auto-filled by AI).', max_length=10, null=True)),
                ('tags', models.CharField(blank=True, help_text="Comma-separated tags (e.g., 'communication, teamwork').", max_length=255)),
                ('acknowledged', models.BooleanField(db_index=True, default=False, help_text='Has the employee acknowledged this feedback?')),
                ('acknowledged_at', models.DateTimeField(blank=True, help_text='When the feedback was acknowledged.', null=True)),
                ('employee_response', models.TextField(blank=True, help_text="Employee's response to the feedback.", null=True)),
                ('response_date', models.DateTimeField(blank=True, help_text='When employee responded.', null=True)),
                ('requires_action', models.BooleanField(db_index=True, default=False, help_text='Does this feedback require follow-up action?')),
                ('action_items', models.TextField(blank=True, help_text='Specific action items to address.', null=True)),
                ('action_completed', models.BooleanField(default=False, help_text='Have the action items been completed?')),
                ('action_completed_at', models.DateTimeField(blank=True, help_text='When actions were completed.', null=True)),
                ('visibility', models.CharField(choices=[('Private', 'Private'), ('Public', 'Public')], db_index=True, default='Private', help_text='Defines whether feedback is visible in employee dashboards.', max_length=20)),
                ('confidential', models.BooleanField(default=False, help_text='Mark as highly confidential (restricted access).')),
                ('source_type', models.CharField(blank=True, editable=False, help_text='Auto-filled feedback source type.', max_length=20, null=True)),
                ('metadata', models.JSONField(blank=True, default=dict, help_text='Additional structured data.')),
                ('feedback_date', models.DateField(db_index=True, default=django.utils.timezone.localdate)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('manager_name', models.CharField(blank=True, help_text="Auto-filled with Manager's name if available.", max_length=150, null=True)),
                ('one_on_one_session', models.BooleanField(default=False, help_text='Was this feedback given during a 1:1 session?')),
                ('improvement_areas', models.TextField(blank=True, help_text='Specific areas for improvement.', null=True)),
                ('strengths', models.TextField(blank=True, help_text="Employee's key strengths.", null=True)),
                ('created_by', models.ForeignKey(blank=True, help_text='User who submitted this feedback.', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('department', models.ForeignKey(blank=True, help_text='Department under which the feedback is recorded.', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_feedbacks', to='employee.department')),
                ('employee', models.ForeignKey(help_text='Employee receiving this feedback.', on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_feedbacks', to='employee.employee')),
            ],
            options={
                'verbose_name': 'Manager Feedback',
                'verbose_name_plural': 'Manager Feedback',
                'db_table': 'feedback_manager',
            },
        ),
    ]
